<div class="movie-card-container">
    <div class="movie-card">
        <span class="movie-card-title">{{ movie.title }} ({{ movie.year }})</span>

        <div class="movie-card-body">
            <table class="table-borderless movie-card-table">
                <tbody>
                    <tr>
                        <td class="movie-card-table-category">director</td>
                        <td>{{ movie.director }}</td>
                    </tr>
                    <tr>
                        <td class="movie-card-table-category">duration</td>
                        <td>{{ movie.duration }}</td>
                    </tr>
                    <tr>
                        <td class="movie-card-table-category">parental rating</td>
                        <td>{{ movie.parental_rating }}</td>
                    </tr>
                    <tr>
                        <td class="movie-card-table-category">average rating</td>
                        <td>{{ movie.average_rating }}</td>
                    </tr>
                    <tr>
                        <td class="movie-card-table-category">total earnings</td>
                        <td>{{ movie.total_gross }}</td>
                    </tr>
                </tbody>
            </table>
            <div class="row action-link-container">
                <a *ngIf="showDeleteButton()" class="action-link" (click)="deleteMovie()"
                    >delete this movie</a
                >
                <a
                    *ngIf="showAddReviewLink()"
                    class="action-link"
                    (click)="addingReview = true"
                    >add a review</a
                >
                <a *ngIf="!showAddReviewLink()" class="action-link" (click)="addingReview = false">cancel adding</a>
            </div>
        </div>
    </div>
</div>
<div *ngIf="showReviewForm()"><app-add-review [movie]="movie" (closeEvent)="addingReview = false"></app-add-review></div>
<div *ngIf="user"><app-reviews [movie]="movie"></app-reviews></div>
<div *ngIf="!user">
    Please <a routerLink="/sign-in" class="action-link">sign in</a> to see user reviews
</div>
